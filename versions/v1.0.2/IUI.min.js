/*!
 * IUI JavaScript Web Framework Library v1.0.2
 *
 * Copyright (c) 2018 Ishaan Singh
 * Released under the MIT license
 * https://github.com/ishaananuraag/IUIjs/blob/master/LICENSE
 *
 * Date: 2018-12-01T12:03Z
 */

!function(t){"function"==typeof define&&define.amd?define("IUI-core",t):window.IUI=t()}(function(){function IUIClass(){this.initialize.apply(this,arguments),this.onInitialize.apply(this,arguments)}var IUI={},_uid=1;IUI.Event=function(t){this.type=t,this._isPropogationStopped=!1,this.stopPropagation=function(){this._isPropogationStopped=!0}};var EventGroup=function t(e){this.name=e.name,delete e.name,this.events=e,this.persist=e.persist||!1,t.bindEvent(this)};EventGroup._eventBindings={},EventGroup._classBindings={},EventGroup.bindEvent=function(t){var e=t.name;if(EventGroup._classBindings[e]){var i=EventGroup._classBindings[e];for(var n in i)i[n](t.events);delete EventGroup._classBindings[e],t.persist&&(EventGroup._eventBindings[e]=t)}else EventGroup._eventBindings[e]=t},EventGroup.bindClass=function(t,e){EventGroup._eventBindings[t]?(e._bind(EventGroup._eventBindings[t].events),EventGroup._eventBindings[t].persist||delete EventGroup._eventBindings[t]):EventGroup._classBindings[t]?EventGroup._classBindings[t].push(e._bind.bind(e)):EventGroup._classBindings[t]=[e._bind.bind(e)]},IUI.EventGroup=EventGroup;var _getKeys=function(t){if(!("function"==typeof t||"object"==typeof t&&t))return[];var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e},_isObject=function(t){return t&&"object"==typeof t&&t.constructor===Object},_extendObject=function(t){var e=arguments.length;if(null==t)return t;for(var i=_getKeys(t),n=i.length,o={},s=0;s<n;s++){var a=t[i[s]];"object"==typeof a&&Array.isArray(a)?a=Array.prototype.slice.call(a):_isObject(a)&&(a=_extendObject(a)),o[i[s]]=a}for(var r=1;r<e;r++)for(var l=arguments[r],i=_getKeys(l),n=i.length,s=0;s<n;s++){var d=i[s];o[d]&&_isObject(l[d])&&_isObject(o[d])?o[d]=_extendObject(o[d],l[d]):o[d]=l[d]}return o};IUIClass.prototype.load=function(){},IUIClass.prototype.onInitialize=function(){},IUIClass.prototype.initialize=function(t){this.load(t),this.options=_extendObject(this.options||{},t),this._handlers={},this._bind(this.options),this.options.eventgroup&&IUI.EventGroup.bindClass(this.options.eventgroup,this);for(var e in this){var i=this[e];"object"==typeof i&&"options"!==e&&(Array.isArray(i)?this[e]=Array.prototype.slice.call(i):this[e]=_extendObject(this[e]))}},IUIClass.prototype.events=[],IUIClass.prototype._bind=function(t){var e=this.events;for(var i in e){var n=e[i].split(".");t[n[0]]&&(void 0===this._handlers[n[0]]&&(this._handlers[n[0]]=[]),this._handlers[n[0]].push({handler:t[n[0]],_ns:n[1]}))}},IUIClass.prototype.on=function(t,e){var i=t.split(IUI.spaceRegex),n={};for(var o in i)n[i[o]]=e;this._bind(n)};var _getHandlerFunction=function(_handler,e){return"function"==typeof _handler?_handler:"string"==typeof _handler?"function"==typeof window[_handler]?window[_handler]:(0===_handler.indexOf("function")?eval("_handler="+_handler):_handler=new Function(_handler),_handler):void 0};IUIClass.prototype.trigger=function(t,e){if(this._handlers[t]){var i=new IUI.Event(t),n=this._handlers[t];i=_extendObject(i,e),i.target=this;for(var o in n){var s,a=n[o].handler;if(!i._isPropogationStopped&&!1!==s){s=_getHandlerFunction(a,i).call(this,i)}}}};var _extend;return IUIClass.extend=function(t){var e=function(){this.initialize.apply(this,arguments),this.onInitialize.apply(this,arguments)};_getKeys(this.prototype).forEach(function(t){var i=this.prototype[t];"object"==typeof i&&(i=Array.isArray(i)?Array.prototype.slice.call(i):_extendObject(i)),e.prototype[t]=i},this),e.extend=_extend;for(var i in t){t[i];"object"!=typeof t[i]||Array.isArray(t[i])?e.prototype[i]=t[i]:e.prototype[i]=_extendObject(e.prototype[i]||{},t[i])}return e},_extend=IUIClass.extend,IUIClass.prototype._optionModelMapping=[],IUIClass.prototype.ignoredAttributes=[],IUIClass.prototype._observedOptions=["enable","isattached"],IUIClass.prototype.bindModels=function(t){this.__processOptionMapping(),this.optionsModel=new IUI.OptionsModel(this.options,this._handleOptionChange.bind(this),this._observedOptions,t),this.options.model&&IUI.ObservableModel.bindModels(this.optionsModel,this.options.model,this._optionModelMapping)},IUIClass.prototype.destroy=function(t){this.options.model&&IUI.ObservableModel.unbindModels(this.optionsModel,this.options.model,this._optionModelMapping)},IUIClass.prototype.__processOptionMapping=function(){var t=IUI.behaviors.getObservableMapping(this.options),e=t.length;if(e)for(var i=0;i<e;++i)-1===this.ignoredAttributes.indexOf(t[i].optionAttribute)&&(this._optionModelMapping.push(t[i]),-1===this._observedOptions.indexOf(t[i].optionAttribute)&&this._observedOptions.push(t[i].optionAttribute))},IUIClass.prototype._handleOptionChange=function(t,e){this["_handle"+t+"Change"]&&this["_handle"+t+"Change"](e)},IUI.Class=IUIClass,IUI.getUID=function(){return"uid_"+_uid++},IUI.domAccessibility=!0,IUI.setDOMAccessibility=function(t){IUI.domAccessibility=t},IUI.deepExtend=_extendObject,IUI._observableRegex=/::.*?::/g,IUI.subcontainerRegex=/subcontainer-\S+/g,IUI.iiAttributeRegex=/ii-\S+/g,IUI.spaceRegex=/(\ )+/g,IUI}),function(t){"function"==typeof define&&define.amd?define("Template",["IUI-core"],t):t(window.IUI)}(function(IUI){var _templateToFunctionWrapper=function(t,e,i){var n=t.slice(2,-2);return(e?'"+':"")+"(function(){ return "+n+" })()"+(e+t.length===i.length?"":'+"')},Template=function(){};Template.render=function(template,object,options){var _string="";if(options&&options.attrString)_string=options.attrString;else for(var attr in object)_string=_string+"var "+attr+"=model."+attr+"; ";return _string="(function(model){ "+_string+" return "+template+"; })",eval(_string)(IUI.deepExtend(object))},Template.extractTemplateObject=function(t){var e,i,n,o,s=t.match(IUI._observableRegex);return t=t.trim(),s&&s.length>0?(e=t.replace(IUI._observableRegex,_templateToFunctionWrapper),i=s[s.length-1],n=s[0],e=(0===t.indexOf(n)?"":'"')+e+(t.lastIndexOf(i)+i.length===t.length?"":'"'),o=s[0].length==t.length,{template:e,mappings:s.map(function(t){return t.slice(2,-2).trim()}),isExclusive:o}):{template:t}},IUI.Template=Template}),function(t){"function"==typeof define&&define.amd?define("Behaviors",["IUI-core","Template"],t):t(window.IUI)}(function(t){var e={};e.delegateDOMEvent=function(t){var e={originalEvent:t};this.value&&(e.value=this.value()),e.target=this,this.trigger(t.type,e)},e.extractStyleFromObject=function(t,e){for(var i in e)i in t.style&&(t.style[i]=e[i])};var i={style:function(t,e,i){e in t.style&&(t.style[e]=i)},"ii-attibute":function(e,i,n){i.match(t.iiAttributeRegex)&&$(e).attr(i,n)},"subconatiner-attribute":function(e,i,n,o){o.subcontainerOptions||(o.subcontainerOptions={}),i.match(t.subcontainerRegex)&&(o.subcontainerOptions[i.slice(13)]=n)}};e.extractFromObject=function(t,e,n){for(var o in e)for(var s in n)i[n[s]](t,o,e[o],e)},e.getObservableMapping=function(e){var i,n=[];for(var o in e)if("string"==typeof e[o]){var i=t.Template.extractTemplateObject(e[o]);i.mappings&&(e.model&&e.model.model&&(e[o]=t.Template.render(i.template,e.model.model)),i._uid=t.getUID(),i.optionAttribute=o,n.push(i))}return n},e.filterStyleFromObject=function(t){var e={};for(var i in t)i in document.body.style&&(e[i]=t[i]);return e},t.behaviors=e}),function(t){"function"==typeof define&&define.amd?define("WidgetBuilder",["IUI-core"],t):t(window.IUI)}(function(t){var e=function(t,e){return t[e.name]=e.value,t};t.uiWidgets={},t.uiContainers={};var i={widgetList:{},containerList:{}},n=function(t,i,n){i&&"ObservableModel"===i.classType&&(n=i,i=void 0);var o=Array.prototype.slice.call(t.attributes).reduce(e,{element:t,container:i,model:n});return o.submodel&&(o.model=o.model[submodel]),new this(o)};i.plugin=function(e){var o=e.prototype.name;o&&("ContainerUI"===e.prototype.classType?(t.uiContainers[o]=e,i.containerList[String(o).toUpperCase()]=n.bind(e)):(t.uiWidgets[o]=e,i.widgetList[String(o).toUpperCase()]=n.bind(e)))},i.alias=function(t,e){if(t=String(t).toUpperCase(),e=String(e).toUpperCase(),i.containerList[t])i.containerList[e]=i.containerList[t];else{if(!i.widgetList[t])throw new Error(t+" Not Found");i.widgetList[e]=i.widgetList[t]}},t.WidgetBuilder=i}),function(t){"function"==typeof define&&define.amd?define("DataItem",["IUI-core"],t):t(window.IUI)}(function(t){var e=t.Class.extend({classType:"DataItem",events:t.Class.prototype.events.concat(["change"]),options:{data:{}},initialize:function(e){t.Class.prototype.initialize.apply(this,arguments),this.dataAttributes=[],this._data=e.data;for(var i in e.data)e.data.hasOwnProperty(i)&&(this[i]=e.data[i],this.dataAttributes.push(i));delete this.options},set:function(t,e){this[t]=e,this._data[t]=e;var i={};i[t]=e,this.trigger("change",{changed:i,model:this})},get:function(t){return this[t]}});t.DataItem=e}),function(t){"function"==typeof define&&define.amd?define("DataMart",["IUI-core","DataItem","Validator"],t):t(window.IUI)}(function(t){var e=function(t){var e=t.name;if(i._widgetBindings[e]&&i._widgetBindings[e].length){for(var n=i._widgetBindings[e].length,o=0;o<n;++o)i._widgetBindings[e][o](t);t.state.fetched&&t.trigger("fetch",{data:t.data}),t.persist?(i._dataBindings[e]=t,i._widgetBindings[e]=[]):delete i._widgetBindings[e]}else i._dataBindings[e]=t},i=t.Class.extend({classType:"DataMart",events:t.Class.prototype.events.concat(["fetch","change"]),options:{autofetch:!1,data:[],schema:{idField:"id",textField:"text",model:{}}},state:{fetched:!1},initialize:function(i){t.Class.prototype.initialize.apply(this,arguments),this.persist=this.options.persist,this.name=this.options.name||t.getUID(),this._validateSchema(),this.options.autofetch&&this.fetch(),e(this)},_validateSchema:function(){Object.keys(this.options.schema.model)&&(this.options.schema.model[this.options.schema.idField]={dataType:"string"},this.options.schema.model[this.options.schema.textField]={dataType:"string"})},addAt:function(e,i){i.constructor!==t.DataItem&&(i=this._processData([i])[0]),this.state.fetched?(this.data.splice(e,0,i),this.trigger("change",{data:this.data,item:i,index:e,type:"add"})):this.options.data.splice(e,0,i)},get:function(t){var e=this.options.schema.idField;return"object"==typeof t&&(t=t[e]),this.data.filter(function(i){return i[e]===t})},_remove:function(t){var e=this.data.indexOf(t);if(-1!==e){var i=this.data.splice(e,1)[0];this.trigger("change",{data:this.data,item:i,index:e,type:"remove"})}},remove:function(e){if(e.constructor!==t.DataItem&&(e=this.get(e)),e.constructor===Array)for(var i=e.length,n=0;n<i;++n)this._remove(e[n]);else this._remove(e)},add:function(e){e.constructor!==t.DataItem&&(e=this._processData([e])[0]),this.state.fetched?(this.data.push(e),this.trigger("change",{data:this.data,item:e,type:"add"})):this.options.data.add(e)},_handleDataItemChange:function(t){},sort:function(e){if(this.state.fetched||(this.options.sort=e),void 0===e&&(e={field:this.options.schema.idField,dataType:this.options.schema.model[this.options.schema.idField].dataType}),Array.isArray(e))for(var i=0;i<e.length;++i)e[i].dataType||(e[i].dataType=this.options.schema.model[e[i].field]?this.options.schema.model[e[i].field].dataType:"string");else e.dataType||(e.dataType=this.options.schema.model[e.field]?this.options.schema.model[e.field].dataType:"string");this.data=t.utils.quickSort(this.data,e),this.trigger("change",{data:this.data})},_makeObjectFromRawData:function(t){var e={};return e[this.options.schema.idField]=t,e[this.options.schema.textField]=t,e},_processData:function(e){for(var i=[],n=e.length,o=0;o<n;++o)e[o].constructor!==t.DataItem?("object"!=typeof e[o]&&(e[o]=this._makeObjectFromRawData(e[o])),i.push(new t.DataItem({data:e[o],change:this._handleDataItemChange}))):i.push(e[o]);return i},setData:function(t){if(this.state.fetched){var e=this._processData(t);this.trigger("change",{data:e}),this.data=e}else this.data=t},fetch:function(t){this.data=this._processData(t||this.data||this.options.data),this.state.fetched=!0,this.trigger("fetch",{data:this.data})}});i.bindWidget=function(t,e){i._dataBindings[t]?(e._bindDataMart(i._dataBindings[t]),i._dataBindings[t].state.fetched&&i._dataBindings[t].trigger("fetch",{data:i._dataBindings[t].data}),i._dataBindings[t].persist||delete i._dataBindings[t]):(i._widgetBindings[t]||(i._widgetBindings[t]=[]),i._widgetBindings[t].push(e._bindDataMart.bind(e)))},i._dataBindings={},i._widgetBindings={},t.DataMart=i}),function(t){"function"==typeof define&&define.amd?define("ContainerUI",["IUI-core"],t):t(window.IUI)}(function(t){var e=function(e){return void 0!==t.WidgetBuilder.widgetList[e.tagName]},i=function(e){var i=t.WidgetBuilder.widgetList[e.tagName](e,this.$element[0]);return i.options.id&&(this.widgets[i.options.id]=i),i},n=t.Class.extend({classType:"ContainerUI",classList:["i-ui-container"],tagName:"DIV",events:t.Class.prototype.events.concat(["create"]),options:{async:!1},load:function(t){t.async&&(t.async=JSON.parse(t.async))},initialize:function(e){if(e.tagname&&(this.tagName=e.tagname),this.widgets=[],this.containers=[],t.Class.prototype.initialize.apply(this,arguments),this.options.renderif&&-1===Object.keys(this.options.model.model).indexOf(this.options.renderif))return void $(this.options.element).replaceWith('<span class="ghost-span">');this.options.async&&(this._create=this._createAsync);var i=$(this.options.element||document.createElement(this.tagName));1!==i.length||Array.isArray(this.options.element)?(this.element=document.createElement(this.tagName),this.$element=$(this.element),this.$element.append(i)):(this.element=i[0],this.$element=i),t.persistantAttributes.forEach(function(i){e[i]&&!e[i].match(t._observableRegex)&&$(this.$element).attr(i,e[i])})},_onCreateWidget:function(t){},getContainerById:function(t){if(void 0!==this.containers[t])return this.containers[t];for(var e=this.containers.length,i=0;i<e;++i){var n=this.containers[i].getContainerById(t);if(n)return n}},getWidgetById:function(t){if(void 0!==this.widgets[t])return this.widgets[t];for(var e=this.containers.length,i=0;i<e;++i){var n=this.containers[i].getWidgetById(t);if(n)return n}},_handleOptionChange:function(e,i){-1!==t.persistantAttributes.indexOf(e)?this.$element.attr(e,i):this.element&&e in this.element.style?this.element.style[e]=i:e.match(t.iiAttributeRegex)&&this.$element.attr(e,i),t.Class.prototype._handleOptionChange.apply(this,arguments)},_handleisattachedChange:function(t){t?this.attach():this.detach()},detach:function(){if(this.$element.parent().length)return this._detachedSpan||(this._detachedSpan=$("<span>")),this.$element.after(this._detachedSpan),this.$element.detach(),this},attach:function(){this._detachedSpan&&this._detachedSpan.parent().length&&(this._detachedSpan.after(this.$element),this._detachedSpan.detach())},_render:function(e){if(!$(e).hasClass("i-ui-widget")&&!$(e).hasClass("i-ui-container"))if(void 0!==t.WidgetBuilder.containerList[e.tagName]){var i=t.WidgetBuilder.containerList[e.tagName](e,this.element,this.options.model);i.options.id&&(this.containers[i.options.id]=i),this.containers.push(i),this._onCreateWidget(i)}else if(void 0!==t.WidgetBuilder.widgetList[e.tagName]){var n=t.WidgetBuilder.widgetList[e.tagName](e,this.element,this.options.model);n.options.id&&(this.widgets[n.options.id]=n),this.widgets.push(n),this.trigger("create",{widget:n}),this._onCreateWidget(n)}else e.children&&this._create(e.children)},_create:function(t){for(var e=(t.length,0);e<t.length;++e){var i=t[e];if("STOP"===i.tagName)return;this._render(i)}},_createAsync:function(t){for(var e=(t.length,this._render),i=0;i<t.length;++i){var n=t[i];if("STOP"===n.tagName)return;setTimeout(function(t){e(t)}(n))}},_itterateCommandToAllComponents:function(t){var e=Array.prototype.slice.call(arguments,1);for(var i in this.containers){var n=this.containers[i];n[t]&&n[t].apply(n,e)}for(var o in this.widgets){var s=this.widgets[o];s[t]&&s[t].apply(s,e)}},destroy:function(t){this._itterateCommandToAllComponents("destroy")},enable:function(t){this._itterateCommandToAllComponents("enable",t)},_processOptions:function(e){var i=this.options;t.behaviors.extractFromObject(e,this.options,["style","ii-attibute"]),"string"==typeof this.options.class&&$(e).addClass(this.options.class.split(" ")),t.persistantAttributes.forEach(function(n){i[n]&&!i[n].match(t._observableRegex)&&$(e).attr(n,i[n])}),this.options.id&&(e.id=this.options.id),this.options.disabled&&"false"!==this.options.disabled&&(this.options.enable=!1,$(e).addClass("i-ui-disabled")),this.options.validations&&(this.validationList=this.validationList.concat(this.options.validations))},makeUI:function(){var e=this.element.tagName;if("BODY"!==e&&e!==this.tagName){var i=document.createElement(this.tagName);$($(this.element).children()).appendTo(i),$(this.element).replaceWith($(i)),this.element=i,this.$element=$(i)}this._processOptions(this.element),this._create(this.element.children),this.$element.addClass(this.classList),t.domAccessibility&&(this.element.uiContainer=this),this.element.onDOMAppend=this.onDOMAppend},_findAndMakeWidgets:function(){this.widgets=[];var t=Array.prototype.slice.call(this.$element.find("*")),n=t.filter(e).map(i,this);Array.prototype.push.apply(this.widgets,n)}});t.ContainerUI=n}),function(t){"function"==typeof define&&define.amd?define("Plugable",["IUI-core","ContainerUI"],t):t(window.IUI)}(function(t){var e={},i=t.ContainerUI.extend({events:t.ContainerUI.prototype.events.concat(["plug","activate"]),initialize:function(){t.ContainerUI.prototype.initialize.apply(this,arguments),this._extractPlugOptions()},onInitialize:function(){this.options.plugto&&this._plugTo(this.options.plugto)},_extractPlugOptions:function(){var t={},e=this.options;Object.keys(e).forEach(function(i){0===i.indexOf("plug-")&&(t[i.slice(5)]=e[i])}),this._plugOptions=t},plug:function(t){},_plugTo:function(t){var i=this;e[t]?(e[t].plugs.forEach(function(t){i.plug(t)}),e[t].plugable.push(this)):e[t]={plugs:[],plugable:[this]}},unplug:function(){var t=this;this.options.plugto&&e[this.options.plugto].plugable.forEach(function(e,i,n){if(e===t)return n.splice(i,1),!1})},destroy:function(){this.unplug(),t.ContainerUI.prototype.destroy.apply(this,arguments)}});i.registerPlug=function(t,i){e[t]?(e[t].plugable.forEach(function(t){t.plug(i)}),e[t].plugs.push(i)):e[t]={plugs:[i],plugable:[]}},t.Plugable=i}),function(t){"function"==typeof define&&define.amd?define("Widget",["IUI-core","WidgetBuilder","DataMart","Validator","Behaviors","Plugable"],t):t(window.IUI)}(function(t){t.persistantAttributes=["src","onabort","onautocomplete","onautocompleteerror","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragexit","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onresize","onscroll","onseeked","onseeking","onselect","onshow","onsort","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onvolumechange","onwaiting","accesskey","accesskey","autocapitalize","contenteditable","dir","draggable","hidden","inputmode","is","itemid","itemprop","itemref","itemscope","itemtype","lang","slot","spellcheckÂ  ","style","tabindex","title","target"];var e=t.Class.extend({name:"Widget",template:"",classType:"Widget",tagName:"DIV",classList:["i-ui-widget"],events:t.Class.prototype.events.concat(["validate"]),validationList:[],_observedOptions:["enable","isattached"],_optionModelMapping:[],load:function(e){"string"==typeof e.validations&&(e.validations=e.validations.split(",").map(function(t){return t.trim()})),"string"==typeof e.escapehtml&&(e.escapehtml=JSON.parse(e.escapehtml)),"string"!=typeof e.isattached||e.isattached.match(t._observableRegex)||(e.isattached=JSON.parse(e.isattached)),"string"!=typeof e.enable||e.enable.match(t._observableRegex)||(e.enable=JSON.parse(e.enable)),this.boundModelOptions={validator:this._validate.bind(this)}},initialize:function(e){if(this._initPromise=$.Deferred(),t.Class.prototype.initialize.apply(this,arguments),this.options.renderif&&-1===Object.keys(this.options.model).indexOf(this.options.renderif))return void $(this.options.element).replaceWith('<span class="ghost-span">');this.$element=$(this.options.element),this.element=this.$element[0],this.bindModels(this.boundModelOptions),this.options.datamart?t.DataMart.bindWidget(this.options.datamart,this):this.options.data&&this._processModelData(),this.makeUI(),this.options.isattached||this.detach(),this.options.enable||this.enable(!1),this._initPromise.resolve(),delete this._initPromise,this.options.plug&&t.Plugable.registerPlug(this.options.plug,this)},_handledataChange:function(){this._processModelData()},_processModelData:function(){if("string"!=typeof this.options.data&&"object"==typeof this.options.data)if(this.dataMart)this.dataMart.setData(this.options.data);else{var e=new t.DataMart({idField:this.options.idField,textField:this.options.textField,data:this.options.data,autofetch:!0});t.DataMart.bindWidget(e.name,this)}},_handleOptionChange:function(e,i){-1!==t.persistantAttributes.indexOf(e)?this.$element.attr(e,i):e in this.element.style?this.element.style[e]=i:e.match(t.iiAttributeRegex)&&this.$element.attr(e,i),t.Class.prototype._handleOptionChange.apply(this,arguments)},_handleenableChange:function(t){this.enable(t)},_handleisattachedChange:function(t){t?this.attach():this.detach()},_cleanUp:function(){},onDataFetch:function(t){},onDataChange:function(t){},_bindDataMart:function(t){this.dataMart=t,t._bind({fetch:function(t){var e=this;e._initPromise?e._initPromise.done(function(){e._cleanUp(),e.onDataFetch(t)}):(e._cleanUp(),e.onDataFetch(t))}.bind(this),change:function(t){var e=this;e._initPromise?e._initPromise.done(function(){e.onDataChange(t)}):e.onDataChange(t)}.bind(this)})},_preprocessElement:function(t){Array.prototype.slice.call(this.element.style).forEach(function(e){t.style[e]=this.element.style[e]},this)},detach:function(){if(this.$element.parent().length)return this._detachedSpan||(this._detachedSpan=$("<span>")),this.$element.after(this._detachedSpan),this.$element.detach(),this.options.isattached=!1,this},attach:function(){this._detachedSpan&&this._detachedSpan.parent().length&&(this._detachedSpan.after(this.$element),this._detachedSpan.detach(),this.options.isattached=!0)},_processOptions:function(e){var i=this.options;t.behaviors.extractFromObject(e,this.options,["style","ii-attibute"]),"string"==typeof this.options.class&&$(e).addClass(this.options.class.split(" ")),t.persistantAttributes.forEach(function(n){i[n]&&!i[n].match(t._observableRegex)&&$(e).attr(n,i[n])}),this.options.id&&(e.id=this.options.id),this.options.disabled&&"false"!==this.options.disabled&&(this.options.enable=!1,$(e).addClass("i-ui-disabled")),this.options.validations&&(this.validationList=this.validationList.concat(this.options.validations))},onTemplateAttach:function(t){},makeUI:function(){var e=document.createElement(this.tagName);$(e).addClass(this.classList),e.innerHTML=this.template,this.onTemplateAttach(e),this._processOptions(e),this.element&&(this._preprocessElement(e),$(this.element).replaceWith($(e))),this.element=e,t.domAccessibility&&(this.element.iuiWidget=this),this.element.onDOMAppend=this.onDOMAppend,this.$element=$(e),this.onRender()},onRender:function(){},_onValidate:function(t){var e=this;t.valid?this.$element.removeClass("i-ui-invalid"):(clearTimeout(this.invalidTimeout),this.$element.addClass("i-ui-invalid"),this.invalidTimeout=setTimeout(function(){e.$element.removeClass("i-ui-invalid")},200))},validate:function(t){var e=this._validate(this.value(),t);return clearTimeout(this.invalidTimeout),e},_validate:function(e,i){for(var n=!0,o=[],s=i||t.Validator,a=this.validationList.length,r=0;r<a;r++){var l=this.validationList[r];_valid=s.validate(l,e),_valid||o.push(l),n=n&&_valid}var d={valid:n,rules:o};return this._onValidate(d),this.trigger("validate",d),d},enable:function(t){if(void 0===t)return!this.$element.hasClass("i-ui-disabled");t=JSON.parse(t),this.$element.toggleClass("i-ui-disabled",!t)},value:function(t){return void 0!==t?this.element.innerHTML=t:this.element.innerHTML},options:{enable:!0,isattached:!0,escapehtml:!1}});t.Widget=e,t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("Validator",["IUI-core","Widget"],t):t(window.IUI)}(function(t){var e;Validator=function(){this._validationRules={}},Validator.prototype.addRule=function(t,e){void 0===this._validationRules[t]&&(this._validationRules[t]=[]),this._validationRules[t].push(e)},Validator.prototype.validate=function(t,e){var i,n=!0;if(void 0!==this._validationRules[t]){i=this._validationRules[t].length;for(var o=0;o<i;++o)n=n&&this._validationRules[t][o](e)}return n},e=new Validator,Validator._validationRules=e._validationRules,Validator.addRule=e.addRule,Validator.validate=e.validate,t.Validator=Validator}),function(t){"function"==typeof define&&define.amd?define("ObservableModel",["IUI-core","Template"],t):t(window.IUI)}(function(t){var e=function(){return{valid:!0}},i=t.Class.extend({classType:"ObservableModel",initialize:function(i,n,o,s){this._uid=t.getUID(),s=s||{},"object"==typeof n&&(o=n,delete n);var a={},r=this._handleChange.bind(this);!1!==s.shouldValidate&&s.validator||(e=e),this._data=a,this.handler=n;var l=this,d=!1;this.model=i||{},Object.defineProperty(this.model,"__update",{value:function(t){d=!0;var e=[],i=this;Object.keys(t).forEach(function(n){i[n]=t[n],e.push(n)}),e.forEach(function(e){r(e,t[e])}),d=!1},enumerable:!1}),Object.keys(i).forEach(function(t){o&&-1===o.indexOf(t)||"function"!=typeof l.model[t]&&(Object.defineProperty(l._data,t,{value:l.model[t],writable:!0}),Object.defineProperty(l.model,t,{set:function(i){var n=e(i);a[t]!==i&&n.valid&&(a[t]=i,setTimeout(function(){d||r(t,i)}))},get:function(){return a[t]}}))})},_handleChange:function(t,e,i){var n=this;setTimeout(function(){n.handler&&n.handler(t,e,i)})}});i.bindModels=function(t,e,i){t.bindConainerModel(e,i),e.bindOptionModel(t,i)},i.unbindModels=function(t,e,i){t.unbindConainerModel(e,i),e.unbindOptionModel(t,i)},t.ObservableModel=i}),function(t){"function"==typeof define&&define.amd?define("Utils",["IUI-core"],t):t(window.IUI)}(function(t){var e={};t.registerUtil=function(t,i){Object.defineProperty(e,t,{value:i,writable:!1})},t.utils=e}),function(t){"function"==typeof define&&define.amd?define("OptionModel",["IUI-core","ObservableModel","Template"],t):t(window.IUI)}(function(t){var e=t.ObservableModel.extend({ModelType:"OptionsModel",_handleChange:function(e,i,n){t.ObservableModel.prototype._handleChange.apply(this,arguments);var o,s=this.boundModels[e];if(s)for(var o=s.length,a=0;a<o;++a){var r=s[a];r.model.modelLastUpdatedBy||(r.model.modelLastUpdatedBy={}),r.model.modelLastUpdatedBy[r._uid]||(r.model.modelLastUpdatedBy[r._uid]={});var l=r.model.modelLastUpdatedBy[r._uid];for(var d in r.mappedAttributes)r.isExclusive&&(l[r.mappedAttributes[d]]||(l[r.mappedAttributes[d]]=[]),-1===l[r.mappedAttributes[d]].indexOf(this._uid)&&(l[r.mappedAttributes[d]].push(this._uid),r.model.model[r.mappedAttributes[d]]!==i&&(r.model.model[r.mappedAttributes[d]]=i)))}},unbindConainerModel:function(t,e){for(var i,n=e.length,o={},s=0;s<n;++s)o[e[s].optionAttribute]||(o[e[s].optionAttribute]=[]),o[e[s].optionAttribute].push(e[s]._uid);i=Object.keys(o);for(var s in i)this.boundModels[i[s]]=this.boundModels[i[s]].filter(function(t){return-1===o[i[s]].indexOf(t._uid)})},bindConainerModel:function(t,e){var i,n,o=e.length;this.boundModels||(this.boundModels={});for(var s=0;s<o;++s){var a={model:t,mappedAttributes:[],isExclusive:e[s].isExclusive,_uid:e[s]._uid};i=e[s].mappings;for(var r in i)void 0!==t.model[i[r]]&&a.mappedAttributes.push(i[r]);n=e[s].optionAttribute,this.boundModels[n]||(this.boundModels[n]=[]),this.boundModels[n].push(a)}}});t.OptionsModel=e}),function(t){"function"==typeof define&&define.amd?define("ContainerModel",["IUI-core","ObservableModel","Template"],t):t(window.IUI)}(function(t){var e=t.ObservableModel.extend({ModelType:"ContainerModel",_handleChange:function(e,i,n){t.ObservableModel.prototype._handleChange.apply(this,arguments);var o,s=this.boundModels;if(s.length)for(var o=s.length,a=0;a<o;++a){var r=s[a];if(this.lastUpdatedBy||(this.lastUpdatedBy={}),this.modelLastUpdatedBy||(this.modelLastUpdatedBy={}),this.modelLastUpdatedBy[r._uid]||(this.modelLastUpdatedBy[r._uid]={}),this.modelLastUpdatedBy[r._uid][r.optionAttribute]||(this.modelLastUpdatedBy[r._uid][r.optionAttribute]=[]),-1===this.modelLastUpdatedBy[r._uid][r.optionAttribute].indexOf(this.uid)){this.modelLastUpdatedBy[r._uid][r.optionAttribute].push(this.uid);var l=t.Template.render(r.template,this.model);r.model.model[r.optionAttribute]=l}clearTimeout(this.lastUpdateClearTimeout),this.lastUpdateClearTimeout=setTimeout(function(){delete that.lastUpdatedBy,delete that.modelLastUpdatedBy})}},unbindOptionModel:function(t,e){for(var i=e.length,n=[],o=0;o<i;++o)n.push(e[o]._uid);this.boundModels=this.boundModels.filter(function(t){return-1===n.indexOf(t._uid)})},bindOptionModel:function(t,e){var i=e.length;this.boundModels||(this.boundModels=[]);for(var n=0;n<i;++n){var o={model:t,optionAttribute:e[n].optionAttribute,template:e[n].template,_uid:e[n]._uid};e[n].mappings,this.boundModels.push(o)}}});t.ContainerModel=e}),function(t){"function"==typeof define&&define.amd?define("Container",["IUI-core","ContainerUI"],t):t(window.IUI)}(function(t){var e=t.ContainerUI.extend({name:"Container",initialize:function(){t.ContainerUI.prototype.initialize.apply(this,arguments),this.bindModels(),this._beforeRender(),this.makeUI(),this._afterRender()},_beforeRender:function(){},_afterRender:function(){}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("DataBoundContainer",["IUI-core","Container"],t):t(window.IUI)}(function(t){var e=t.uiContainers.Container.extend({name:"DataBoundContainer",initialize:function(){this._initPromise=$.Deferred(),t.uiContainers.Container.prototype.initialize.apply(this,arguments)},onInitialize:function(){this._initPromise.resolve(),delete this._initPromise},makeUI:function(){this.options.datamart&&t.DataMart.bindWidget(this.options.datamart,this),t.uiContainers.Container.prototype.makeUI.apply(this,arguments),this._attachEvents()},_bindDataMart:function(t){this.dataMart=t,t._bind({fetch:function(t){var e=this;e._initPromise?e._initPromise.done(function(){e._cleanUp(),e.onDataFetch(t)}):(e._cleanUp(),e.onDataFetch(t))}.bind(this),change:function(t){var e=this;e._initPromise?e._initPromise.done(function(){e.onDataChange(t)}):e.onDataChange(t)}.bind(this)})},onDataFetch:function(t){},_cleanUp:function(){},onDataChange:function(t){},_attachEvents:function(){}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("VerticalScroller",["IUI-core","Container"],t):t(window.IUI)}(function(t){var e=t.uiContainers.Container.extend({name:"VerticalScroller",classList:t.uiContainers.Container.prototype.classList.concat(["i-ui-verticalscroller"]),options:{height:"15rem",autohide:!0,scrollinside:!1,nativescrollbar:!1},load:function(e){t.uiContainers.Container.prototype.load.apply(this,arguments),e.autohide&&(e.autohide=JSON.parse(e.autohide)),e.nativescrollbar&&(e.nativescrollbar=JSON.parse(e.nativescrollbar)),e.scrollinside&&(e.scrollinside=JSON.parse(e.scrollinside))},_beforeRender:function(){},_handlerWrapperMouseover:function(){this.downArrow.css({display:"block"}),this.upArrow.css({display:"block"}),this.downArrow.animate({opacity:1,bottom:-this.downArrowOffset},50),this.upArrow.animate({opacity:1,top:-this.upArrowOffset},50)},_handlerWrapperMouseout:function(t){if(!$.contains(t.currentTarget,t.relatedTarget)){var e=this;this.downArrow.animate({opacity:0,
bottom:0},50,function(){e.downArrow.css({display:"none"})}),this.upArrow.animate({opacity:0,top:0},50,function(){e.upArrow.css({display:"none"})})}},_handleScrollUp:function(t){var e=this;this._scrollInterval=setInterval(function(){var t=e.element.scrollTop;e.element.scrollTop=t-5,0===e.element.scrollTop&&clearInterval(e._scrollInterval)},50)},_handleScrollDown:function(t){var e=this;this._scrollInterval=setInterval(function(){var t=e.element.scrollTop;e.element.scrollTop=t+5,e.element.scrollTop===t&&clearInterval(e._scrollInterval)},50)},_handleScrollEnd:function(t){clearInterval(this._scrollInterval)},_afterRender:function(){if(this.wrapper=this.$element.wrap('<div class="i-ui-scroller-wrapper">').parent(),this.options.nativescrollbar)return void this.$element.css({"overflow-y":"auto"});this.upArrow=$('<div class="i-ui-scroller-up-arrow"><i class="i-ui-widget-icon fa fa-caret-up" aria-hidden="true"></i></div>').css({position:"absolute"}),this.downArrow=$('<div class="i-ui-scroller-down-arrow"><i class="i-ui-widget-icon fa fa-caret-down" aria-hidden="true"></i></div>').css({position:"absolute"}),this.wrapper.prepend(this.upArrow),this.wrapper.append(this.downArrow),this.options.autohide&&(this.upArrow.css({opacity:0,top:0,display:"none"}),this.downArrow.css({opacity:0,bottom:0,display:"none"}),this.wrapper.on("mouseover.verticalscroller",this._handlerWrapperMouseover.bind(this)),this.wrapper.on("mouseout.verticalscroller",this._handlerWrapperMouseout.bind(this))),this.options.scrollinside?(this.wrapper.addClass("i-ui-inset-scrollable"),this.downArrowOffset=0,this.upArrowOffset=0):(this.downArrowOffset=this.downArrow.height(),this.upArrowOffset=this.upArrow.height()),this.upArrow.on("mouseover.verticalscroller",this._handleScrollUp.bind(this)),this.upArrow.on("mouseout.verticalscroller",this._handleScrollEnd.bind(this)),this.downArrow.on("mouseover.verticalscroller",this._handleScrollDown.bind(this)),this.downArrow.on("mouseout.verticalscroller",this._handleScrollEnd.bind(this))}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("QuickSort",["IUI-core","Utils"],t):t(window.IUI)}(function(t){var e=function(t,e){return(t-e)*this.multiplier},i=function(t,e){return(t<e?-1:t===e?0:1)*this.multiplier},n=function(t,e){return(!t==!e?0:t?1:-1)*this.multiplier},o=function(t,e){return function(i,n){return e*(i[t]<n[t]?-1:i[t]===n[t]?0:1)}},s=function(t,e){return function(i,n){return e*(i[t]-n[t])}},a=function(t,e){return function(i,n){return e*(!i[t]==!n[t]?0:i[t]?1:-1)}},r=function(t,e,i,n){if(!(e>=i)){for(var o,s,a=e,l=i,d=e;d<i;++d)n(t[d],t[d+1])<0&&d+1<i&&(o=t[d],t[d]=t[d+1],t[d+1]=o,s=!1),n(t[d],t[l])<0&&(o=t[d],t[d]=t[a],t[a]=o,a++);if(o=t[a],t[a]=t[l],t[l]=o,!s)return r(t,e,a-1,n),r(t,a+1,i,n),t}},l=function(t){var r=t.desc?-1:1;return void 0===t?e.bind({multiplier:r}):t.comparator?t.comparator.bind({multiplier:r}):t.field?t.dataType&&"number"!==t.dataType?"boolean"===t.dataType?a(t.field,r):o(t.field,r):s(t.field,r):t.dataType&&"number"!==t.dataType?"boolean"===t.dataType?n.bind({multiplier:r}):i.bind({multiplier:r}):e.bind({multiplier:r})},d=function(t,e){for(var i=0,n=[],o=t[0][e],s=0;s<t.length;++s)o!==t[s][e]&&(n.push({startIndex:i,endIndex:s-1}),i=s,o=t[s][e]);return n.push({startIndex:i,endIndex:t.length-1}),n},p=function(t,e,i){if(e&&"function"!=typeof e&&(i=e,e=null),i=i||{},i.constructor===Array){p(t,e,i[0]);for(var n=1;n<i.length;++n)for(var o=d(t,i[n-1].field),s=0;s<o.length;++s)i[n].startIndex=o[s].startIndex,i[n].endIndex=o[s].endIndex,p(t,e,i[n]);return t}return e=e||l(i),r(t,i.startIndex||0,i.endIndex||t.length-1,e)};t.registerUtil("quickSort",p)}),function(t){"function"==typeof define&&define.amd?define("Row",["IUI-core","Container"],t):t(window.IUI)}(function(t){var e=t.uiContainers.Container.extend({name:"Row",tagName:"tr",classList:["i-ui-row"]});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("Popover",["IUI-core","Container","Plugable"],t):t(window.IUI)}(function(t){var e=t.Plugable.extend({name:"PopOver",initialize:function(){t.Plugable.prototype.initialize.apply(this,arguments),this.bindModels(),this._beforeRender(),this.$element.children().wrapAll("<div>"),this.popup=t.createOverlay({class:this.options.class,contents:this.$element.children(),button:$(this.options.button),height:this.options.height,width:this.options.width,direction:this.options.direction,placement:this.options.placement,autoclose:this.options.autoclose,pointeropening:this.options.pointeropening}),this.wrapper=this.popup.element,this.$wrapper=this.popup.$element,"true"==this.options.autopen&&this.popup.open(),this.makeUI(),this._afterRender(),this._attachEvents()},makeUI:function(){$(this.element).parent().length&&(this.element.outerHTML='<span class="ghost-span"></span>'),this.element=null},options:{"max-height":"15em",direction:"down",placement:"top",autoclose:!0,autoopen:!0,"plug-event":"click"},plug:function(t){var e=this;this.popup._initPromise.done(function(){t.$element.on(e.options["plug-event"],function(i){e.popup.options.anchor=i.currentTarget,e.trigger("activate",{widget:t}),e.popup.open()})})},classList:t.uiContainers.Container.prototype.classList.concat(["i-ui-popover-container"]),_beforeRender:function(){},_afterRender:function(){},_attachEvents:function(){}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("ContextMenu",["IUI-core","Popover"],t):t(window.IUI)}(function(t){var e=t.uiContainers.PopOver.extend({name:"ContextMenu",initialize:function(e){var i=this;e.button=null,this.element=e.element,setTimeout(function(){t.uiContainers.PopOver.prototype.initialize.call(i,e)})},options:{height:"20em",width:"15em",direction:"down",placement:"top",autoclose:!0,autoopen:!1},classList:t.uiContainers.Container.prototype.classList.concat(["i-ui-popover-container"]),_beforeRender:function(){},_afterRender:function(){},classList:t.uiContainers.PopOver.prototype.classList.concat(["i-ui-context-menu"]),_attachEvents:function(){var e=this;t.uiContainers.PopOver.prototype._attachEvents.apply(this,arguments),$(this.options.container).on("mousedown",function(t){e.popup.closeImmediate(t)}),$(this.options.container).on("contextmenu",function(t){3===t.which&&(t.preventDefault(),e.popup.setClientRectangle([{right:t.originalEvent.x,left:t.originalEvent.x,top:t.originalEvent.y,bottom:t.originalEvent.y,height:0,width:0}]),e.popup.open(),t.stopPropagation())})}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("Layout",["IUI-core","Container","ContainerUI"],t):t(window.IUI)}(function(t){var e=t.ContainerUI.extend({name:"Layout",initialize:function(){t.ContainerUI.prototype.initialize.apply(this,arguments),this._beforeRender(),this.makeUI(),this.bindModels(),this._afterRender()},classList:t.uiContainers.Container.prototype.classList.concat(["i-ui-layout"]),subContainerClassList:["i-ui-subcontainer"],makeUI:function(){var e=this.element.tagName;if("BODY"!==e&&"DIV"!==e){var i=document.createElement("div"),n=document.createElement("div");$($(this.element).siblings()).appendTo(n),t.behaviors.extractFromObject(n,this.options,["subconatiner-attribute"]),this.options.subcontainerOptions.element=n,this.options.subcontainerOptions.model=this.options.model,this._subcontainer=new t.ContainerUI(this.options.subcontainerOptions),this._subcontainer.makeUI(),this._subcontainer.bindModels(),$($(this.element).children()).appendTo(i),$(this.element).replaceWith($(i)),this.element=i,this.$element=$(i),this.subcontainer=n,this._appendSubContainer(),this.processSubcontainer(n)}this._create(this.element.children),this._processOptions(this.element),this.$element.addClass(this.classList),this.options.id&&(this.subcontainer.id=this.options.id+"-subcontainer"),$(this.subcontainer).addClass(this.subContainerClassList),t.domAccessibility&&(this.element.uiContainer=this),this.element.onDOMAppend=this.onDOMAppend},_appendSubContainer:function(){this.$element.before(this.subcontainer)},getContainerById:function(e){var i=t.ContainerUI.prototype.getContainerById.apply(this,arguments);return i||this._subcontainer.getContainerById(e)},_beforeRender:function(){},_afterRender:function(){},processSubcontainer:function(t){}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("View",["IUI-core","ContainerUI"],t):t(window.IUI)}(function(t){var e={},i={default:{view:{},viewport:{}}},n=t.ContainerUI.extend({name:"View",events:t.ContainerUI.prototype.events.concat(["render","append"]),initialize:function(e){if(this._uid=t.getUID(),$(e.element).removeAttr("viewmodel").removeAttr("name").removeAttr("datamart").removeAttr("eventgroup").addClass("i-ui-exhibit"),e.name&&(i[e.context||this.options.context].view[e.name]=this),this.name=e.name,this._initPromise=$.Deferred(),e.templateurl){var n=this,o=arguments,s=$(e.element).clone().empty();s.load(e.templateurl,function(){n.template="<container"+s[0].outerHTML.slice(5,-5)+"container>",t.ContainerUI.prototype.initialize.apply(n,o),n.makeUI(),n.bindModels(),n._initPromise.resolve()})}else this.template="<container"+e.element.outerHTML.slice(5,-5)+"container>",t.ContainerUI.prototype.initialize.apply(this,arguments),this.makeUI(),this.bindModels(),this._initPromise.resolve()},options:{context:"default"},_honorViewPromise:function(){var i=t.View.getName(this),n=e[i]||e[this._uid];n&&(t.View.renderViewInViewport(this,n),delete e[i],delete e[this._uid])},_handleviewmodelChange:function(e){this.bound||"string"!=typeof e?"object"==typeof e&&(this._modelReady=!0,this._honorViewPromise()):(t.ViewModel.bindView(e,this),this.bound=!0)},render:function(){this.container=t.makeUI(this.template,this.options.viewmodel),this.$el=this.container.$element,this.trigger("render")},bindModels:function(){if(t.ContainerUI.prototype.bindModels.apply(this,arguments),void 0===this.options.viewmodel&&(this.options.viewmodel=this.options.model,this._modelReady=!0,this._honorViewPromise()),"string"==typeof this.options.viewmodel){if(this.options.viewmodel.match(t._observableRegex))return;this.bound||(t.ViewModel.bindView(this.options.viewmodel,this),this.bound=!0)}else"object"==typeof this.options.viewmodel&&(this._modelReady=!0,this._honorViewPromise())},_bindViewModel:function(t){t.boundViews.push(this),this.options.viewmodel=t.model,this._modelReady=!0,this._honorViewPromise()},makeUI:function(){$(this.element).parent().length&&(this.element.outerHTML='<span class="ghost-span"></span>'),this.element=null},destroy:function(){this.container.destroy(),this.container.$element.remove(),this.container=null,this.$el=null,this.bound=!1}});t.View=function(t){this._initialize(t)},t.View.prototype._initialize=function(t){this.template=t.template},t.View.prototype._initialize=function(t){this.template=t.template},t.View.getView=function(t){if("object"==typeof t)return t.constructor===n?t:void 0;var e=t.split(":"),o=e[0],s=e[1];return i[s||"default"].view[o]},t.View.getViewport=function(e){if("object"==typeof e)return e.constructor===t.uiContainers.Viewport?e:void 0;var n=e.split(":"),o=n[0],s=n[1];return i[s||"default"].viewport[o]},t.View.registerViewport=function(t){var e=t.options.context,n=t.options.name;n&&(i[e].viewport[n]=t)},t.View.getName=function(t){return t.options.name?t.options.name+":"+t.options.context:t._uid},t.View.renderViewInViewport=function(i,n){if(_view=t.View.getView(i),_viewport=t.View.getViewport(n),_view&&_view._modelReady)_view.$el||_view.render(),_viewport&&(_viewport.$element.children().detach(),_viewport.$element.append(_view.$el),_viewport._currentView=_view,_view._initPromise.then(function(){_view.trigger("append")}));else if(_view)e[t.View.getName(_view)]=n;else{if("string"==typeof i)var o=i.split(":"),s=o[0],a=o[1]||"default";e[s+":"+a]=n}},t.WidgetBuilder.plugin(n)}),function(t){"function"==typeof define&&define.amd?define("Exhibit",["IUI-core","Container"],t):t(window.IUI)}(function(t){var e=t.uiContainers.Container.extend({name:"Exhibit",classList:t.uiContainers.Container.prototype.classList.concat(["i-ui-exhibit"])});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("Viewport",["IUI-core","Exhibit","View"],t):t(window.IUI)}(function(t){var e=t.uiContainers.Exhibit.extend({name:"Viewport",classList:t.uiContainers.Exhibit.prototype.classList.concat(["i-ui-Viewport"]),options:{context:"default",destroyViews:!1},initialize:function(e){t.uiContainers.Exhibit.prototype.initialize.apply(this,arguments),t.View.registerViewport(this),this.oldViews={},this.options.defaultview&&t.View.renderViewInViewport(this.options.defaultview,this)}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("ViewModel",["IUI-core","DataItem","Validator"],t):t(window.IUI)}(function(t){var e=function(t){var e=t.name;if(i._viewBindings[e]&&i._viewBindings[e].length){for(var n=i._viewBindings[e].length,o=0;o<n;++o)i._viewBindings[e][o](t.model);t.persist?(i._modelBindings[e]=t,i._viewBindings[e]=[]):delete i._viewBindings[e]}else i._modelBindings[e]=t},i=t.Class.extend({classType:"ViewModel",options:{persist:!0},initialize:function(t){this.boundViews=[],this.persist=t.persist,this.name=t.name,this.model=t.model,e(this)},updateModel:function(t){this.model.__update?this.model.__update(t):(this.model=t,this.boundViews.forEach(function(e){e.options.viewmodel=t}))}});i.bindView=function(t,e){i._modelBindings[t]?(e._bindViewModel(i._modelBindings[t]),i._modelBindings[t].persist||delete i._modelBindings[t]):(i._viewBindings[t]||(i._viewBindings[t]=[]),i._viewBindings[t].push(e._bindViewModel.bind(e)))},i._modelBindings={},i._viewBindings={},t.ViewModel=i}),function(t){"function"==typeof define&&define.amd?define("Sidebar",["IUI-core","Container","Layout"],t):t(window.IUI)}(function(t){var e=t.uiContainers.Layout.extend({name:"Sidebar",classList:t.uiContainers.Layout.prototype.classList.concat(["i-ui-sidebar"]),subContainerClassList:t.uiContainers.Layout.prototype.subContainerClassList.concat(["i-ui-sidebar-subcontainer"]),_observedOptions:["width"],initialize:function(e){$(e.element).index()===$(e.container).children().length-1&&(this.options.position="right"),t.uiContainers.Layout.prototype.initialize.apply(this,arguments)},options:{width:"10em",position:"left"},_handlewidthChange:function(t){$(this.subcontainer).css("padding-"+this.options.position,t)},_appendSubContainer:function(){this.$element.before(this.subcontainer),this.$element.addClass("i-ui-"+this.options.position+"-sidebar")},processSubcontainer:function(t){$(t).css("padding-"+this.options.position,this.options.width)}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("Grid",["IUI-core","DataBoundContainer"],t):t(window.IUI)}(function(t){var e=t.uiContainers.DataBoundContainer.extend({name:"Grid",tagName:"div",classList:["i-ui-grid"],options:{sortable:!1,scrollable:!1},load:function(t){t.sortable="true"===t.sortable},_getHeaderTemplate:function(t){var e="",i="",n="HeaderCell",o=["i-ui-grid-header"];return(t.attributes.sortable?"true"===t.attributes.sortable.value:this.options.sortable)&&(n="ContainerHeaderCell",i='</division><div class="i-ui-sort-icon-container"><i class="sort-arrow-desc fa fa-arrow-up"></i><i class="sort-arrow-asc fa fa-arrow-down"></div></i>',e="<division>",o.push("i-ui-sortable")),"<"+n+" "+(t.attributes.field?"field='"+t.attributes.field.value+"'":"")+" class='"+o.join(" ")+"'>"+e+(t.attributes.title?t.attributes.title.value:"")+i+"</"+n+">"},_extractRowTemplate:function(){var t=this.element.getElementsByTagName("column"),e='<row class="i-ui-grid-thead">',i='<row class="i-ui-grid-tbody">',n="",o=this;Array.prototype.slice.call(t).forEach(function(t){var s=$("<col></col>");$(t).attr("width")&&(s.css("width",$(t).attr("width")),$(t).attr("width",null)),e+=o._getHeaderTemplate(t),0!==t.innerHTML.indexOf("<")?i+=t.outerHTML.replace(/title="(.*?)"/g,"").replace(/column/g,"Cell"):i+=t.outerHTML.replace(/title="(.*?)"/g,"").replace(/column/g,"ContainerCell"),n+=s[0].outerHTML,t.outerHTML="",o.hasConfig=!0}),this.headerTemplate=e+"</row>",this.rowTemplate=i+"</row>",this.cols=$("<colgroup>"+n+"</colgroup>")},onDataFetch:function(e){var i=e.data.length;items=[];for(var n=0;n<i;++n){var o=e.data[n].__items||t.makeUI(this.rowTemplate,e.data[n]);e.data[n].__items=o,this.tbody.append(o.$element),items.push(o)}this.items=items},onDataChange:function(e){if("add"===e.type){var i=e.item.__items||t.makeUI(this.rowTemplate,e.item);void 0===e.index?(e.item.__items=i,this.tbody.append(i.$element),this.items.push(i)):(this.tbody.children().eq(e.index).after(i.$element),this.items.splice(e.index,0,i))}else"remove"===e.type?this.tbody.children().eq(e.index).remove():(this._cleanUp(),this.onDataFetch(e))},_cleanUp:function(){this.tbody.children().detach()},makeUI:function(){this._extractRowTemplate(),t.uiContainers.DataBoundContainer.prototype.makeUI.apply(this,arguments),this.hasConfig&&(this.$element.children().remove(),"true"==this.options.scrollable?this.element.innerHTML='<div class="i-ui-grid-thead-container"><table>'+this.cols[0].outerHTML+'<thead></thead></table></div><div class="i-ui-grid-tbody-container"><table>'+this.cols[0].outerHTML+"<tbody></tbody></table></div>":this.element.innerHTML="<table>"+this.cols[0].outerHTML+"<thead></thead><tbody></tbody></table></div>",this._header=t.makeUI(this.headerTemplate,this.options.model),this.$element.find("thead").append(this._header.$element),this.tbody=this.$element.find("tbody"))},sort:function(t){this.dataMart&&(console.time("sort"),this.dataMart.sort(t),console.timeEnd("sort"),this._sortObject=t)},_handleSortClick:function(t){this._sortObject=this._sortObject||[];var e;$(t.target).hasClass("sort-arrow-desc")?e=!0:$(t.target).hasClass("sort-arrow-asc")&&(e=!1);var i=$(t.currentTarget).closest("th").data("field");t.currentTarget.sortDesc==e?(this._sortObject.splice(this._sortObject.indexOf(t.currentTarget.sortObject),1),t.currentTarget.sortObject=null,t.currentTarget.sortDesc=null):(t.currentTarget.sortDesc=e,t.currentTarget.sortObject=t.currentTarget.sortObject||this._sortObject[this._sortObject.push({field:i})-1],t.currentTarget.sortObject.desc=e),this.sort(this._sortObject.slice())},_attachEvents:function(){t.uiContainers.DataBoundContainer.prototype._attachEvents.apply(this,arguments),this.options.sortable&&this.$element.on("click",".i-ui-sort-icon-container",this._handleSortClick.bind(this))}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("Navbar",["IUI-core","Container","Layout"],t):t(window.IUI)}(function(t){var e=t.uiContainers.Layout.extend({name:"Navbar",classList:t.uiContainers.Layout.prototype.classList.concat(["i-ui-navbar"]),subContainerClassList:t.uiContainers.Layout.prototype.subContainerClassList.concat(["i-ui-navbar-subcontainer"]),_observedOptions:["height"],_handleheightChange:function(t){$(this.subcontainer).css("padding-top",t)},processSubcontainer:function(t){$(t).css("padding-top",this.options.height)}});t.WidgetBuilder.plugin(e),t.WidgetBuilder.alias("Navbar","Header")}),function(t){"function"==typeof define&&define.amd?define("Footer",["IUI-core","Container","Navbar"],t):t(window.IUI)}(function(t){var e=t.uiContainers.Layout.extend({name:"Footer",classList:t.uiContainers.Layout.prototype.classList.concat(["i-ui-footer"]),subContainerClassList:t.uiContainers.Layout.prototype.subContainerClassList.concat(["i-ui-footer-subcontainer"]),_observedOptions:["height"],_handleheightChange:function(t){$(this.subcontainer).css("padding-bottom",t)},processSubcontainer:function(t){$(t).css("padding-bottom",this.options.height)}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("Overlay",["IUI-core"],t):t(window.IUI)}(function(t){var e,i=1;e=document.createElement("DIV"),$(e).addClass("i-ui-overlay-container"),document.body.appendChild(e);var n=t.Class.extend({classType:"Overlay",classList:["i-ui-overlay","i-ui-hidden"],initialize:function(e){var n=this;n._initPromise=$.Deferred(),t.Class.prototype.initialize.apply(this,arguments),this._uid="_uid"+i++,this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.close=this.close.bind(this),this.options.animateObjectOpen.height=this.options.height||this.options.animateObjectOpen.height,this.contents=this.options.contents,this._initialPopupStyle=t.behaviors.filterStyleFromObject(this.options),this._initialPopupStyle.height=0,this._initialPopupStyle.display="block",this.options.animateObjectClose.height=this.options.animateObjectClose.height||0,void 0===this._initialPopupStyle.width&&(this._anchorWidth=!0),this.clientRectSet=!!this.options.clientrectangle,setTimeout(function(){n.createOverlay(),n._attachEvents(),n._initPromise.resolve(),delete n._initPromise})},events:["opening","open","close","closing"],options:{lazy:!1,anchor:"body",direction:"down",placement:"bottom",classList:[],button:null,buttonBehavior:"click",animateObjectClose:{},animateObjectOpen:{},autoclose:!0,clientrectangle:null,pointeropening:null},setClientRectangle:function(t){this.options.clientrectangle=t,this.clientRectSet=!!t},_processInitialPopupStyle:function(){if(this.clientRectSet)i=this.options.clientrectangle;else{var t=$(this.options.anchor);0===t.length&&(t=$("body"));var e=t[0],i=e.getClientRects()}var n=this.options.direction;if(i.length){var o=i[0],s=this.options.placement.split(" "),a=s[0]||"center",r=s[1]||"center";"top"===a?"down"===n?this._initialPopupStyle.top=o.top:this._initialPopupStyle.bottom=$(window).innerHeight()-o.top:"bottom"===a?"down"===n?this._initialPopupStyle.top=o.bottom:this._initialPopupStyle.bottom=$(window).innerHeight()-o.bottom:"center"===a?"down"===n?this._initialPopupStyle.top=o.top-o.width/2:this._initialPopupStyle.bottom=o.top-o.width/2:this._initialPopupStyle.left=a,this.options.width||(this._initialPopupStyle.width=o.width-2),"right"===r?this._initialPopupStyle.left=o.right:"left"===r?this._initialPopupStyle.right=$(window).innerWidth()-o.left:this._initialPopupStyle.left="center"===r?o.left+o.width/2:r,this.options.pointeropening&&("flip"===this.options.pointeropening?"left"===r?this._initialPopupStyle.right=this._initialPopupStyle.right-this._initialPopupStyle.width:"center"===r&&(this._initialPopupStyle.left=this._initialPopupStyle.left-this._initialPopupStyle.width):"center"===this.options.pointeropening&&("left"===r?this._initialPopupStyle.right=this._initialPopupStyle.right-this._initialPopupStyle.width/2:"center"===r&&(this._initialPopupStyle.left=this._initialPopupStyle.left-this._initialPopupStyle.width/2)))}},bindButton:function(t,e){var i=$(t);if(i.length){var n;"click"===e?n="click":"hover"===e&&(n="mouseover"),i.on(n,this.open)}},open:function(){this._popupOpen||(this._processInitialPopupStyle(),$(this.element).css(this._initialPopupStyle),this._isAttached||($(e).append(this.element),this._isAttached=!0),this.show(),this._popupOpen=!0,this.trigger("opening"),$(this.element).animate(this.options.animateObjectOpen,300,function(){this.trigger("open"),this.options.autoclose&&($("html").off("mouseup."+this._uid),$("html").one("mouseup."+this._uid,this.close))}.bind(this)),this.options.animateObjectOpen.height||$(this.element).animate({height:this.element.scrollHeight},300))},show:function(){$(this.element).removeClass("i-ui-hidden")},hide:function(){$(this.element).addClass("i-ui-hidden")},closeImmediate:function(t){if(!this._popupOpen||t&&$(t.target).is(this.element))return $("html").off("mouseup."+this._uid),void $("html").one("mouseup."+this._uid,this.close);this.trigger("closing"),$(this.element).css(this.options.animateObjectClose),this.trigger("close"),this.hide(),this._popupOpen=!1},close:function(t){if(!this._popupOpen||t&&$(t.target).is(this.element))return $("html").off("mouseup."+this._uid),void $("html").one("mouseup."+this._uid,this.close);var e=this;this.trigger("closing"),$(this.element).animate(this.options.animateObjectClose,300,function(){e.trigger("close"),e.hide(),e._popupOpen=!1})},setContents:function(t){this.contents=t;var e=$(this.contents).detach();this.element.innerHTML="",e.appendTo(this.element)},_attachEvents:function(){this.bindButton(this.options.button,this.options.buttonBehavior)},createOverlay:function(){if(this.element=document.createElement("DIV"),this.contents){$(this.contents).before($('<span class="ghost-span">'));$(this.contents).detach().appendTo(this.element),this.contents=t.makeUI(this.element,this.options.model)}$(this.element).addClass(this.classList.concat(this.options.classlist)),this.element.uiOverlay=this,this.height=this.options.height,this.options.lazy||($(e).append(this.element),this._isAttached=!0)}});t.createOverlay=function(t){return new n(t)}}),function(t){"function"==typeof define&&define.amd?define("InputBox",["IUI-core","Widget"],t):t(window.IUI)}(function(t){var e=t.Widget.extend({name:"InputBox",template:'<input class="i-ui-input"></input>',classList:t.Widget.prototype.classList.concat(["i-ui-inputbox"]),events:t.Widget.prototype.events.concat(["change"]),options:{validateoninput:!0,validateonblur:!0,value:"",type:"text"},_handlevalueChange:function(t){this.value(t)},load:function(e){t.Widget.prototype.load.apply(this,arguments),e.validateoninput&&(e.validateoninput=JSON.parse(e.validateoninput)),e.validateonblur&&(e.validateonblur=JSON.parse(e.validateonblur)),void 0===e.validateoninput?this.boundModelOptions.shouldValidate=this.options.validateoninput:this.boundModelOptions.shouldValidate=e.validateoninput},onInitialize:function(){t.Widget.prototype.onInitialize.apply(this,arguments),this._attachEvents(),this.value(this.options.value)},onTemplateAttach:function(t){this.input=$(t.children[0]),this.input.attr("type",this.options.type),this.options.placeholder&&this.input.attr("placeholder",this.options.placeholder)},_attachEvents:function(){var e=this;$(this.input).on("input",function(t){if(e.options.validateoninput&&!e._validate(t.target.value).valid)return t.target.value=e.options.value,t.stopImmediatePropagation(),t.preventDefault(),!1;e.options.value=t.target.value}),$(this.input).on("change",t.behaviors.delegateDOMEvent.bind(this))},value:function(t){return void 0!==t?(this.options.value=t,this.input.val(t)):this.input.val()}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("Button",["IUI-core","Widget"],t):t(window.IUI)}(function(t){var e=t.Widget.extend({name:"Button",template:'<span class="i-ui-noselect"></span>',classList:t.Widget.prototype.classList.concat(["i-ui-button"]),events:t.Widget.prototype.events.concat(["click"]),options:{text:"Button"},initialize:function(e){e.text||(e.text=e.element&&e.element.innerHTML||this.options.text),t.Widget.prototype.initialize.apply(this,arguments),this._attachEvents()},_handletextChange:function(t){this.element.children[0].innerHTML=t},_processOptions:function(e){t.Widget.prototype._processOptions.apply(this,arguments),e.children[0].innerHTML=this.options.text},_attachEvents:function(){this.$element.on("click",t.behaviors.delegateDOMEvent.bind(this))},value:function(t){return this.options.text}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("Cell",["IUI-core","Widget"],t):t(window.IUI)}(function(t){var e=t.Widget.extend({name:"Cell",tagName:"TD",classList:["i-ui-cell"],load:function(e){t.Widget.prototype.load.apply(this,arguments),e.value=e.element&&e.element.innerHTML||e.template||(e.field?"::"+e.field+"::":new Error("No Field Value to bind with"))},_processOptions:function(e){e.innerHTML=this.options.value,delete this.options.text,t.Widget.prototype._processOptions.apply(this,arguments)},options:{text:""},_handlevalueChange:function(t){this.value(t)}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("Division",["IUI-core","Widget"],t):t(window.IUI)}(function(t){var e=t.Widget.extend({name:"Division",classList:["i-ui-div"],load:function(e){e.tagname&&(this.tagName=e.tagname),e.value=e.element&&e.element.innerHTML,t.Widget.prototype.load.apply(this,arguments)},_processOptions:function(e){e.innerHTML=this.options.value,t.Widget.prototype._processOptions.apply(this,arguments)},_handlevalueChange:function(t){this.value(t)}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("HeaderCell",["IUI-core","Cell"],t):t(window.IUI)}(function(t){var e=t.uiWidgets.Cell.extend({name:"HeaderCell",tagName:"Th",classList:t.uiWidgets.Cell.prototype.classList.concat(["i-ui-header-cell"]),load:function(e){e.value=e.element&&e.element.innerHTML||e.template||e.field||"",t.Widget.prototype.load.apply(this,arguments)},_processOptions:function(e){e.innerHTML=this.options.value,t.Widget.prototype._processOptions.apply(this,arguments)}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("ContainerCell",["IUI-core","Container"],t):t(window.IUI)}(function(t){var e=t.uiContainers.Container.extend({name:"ContainerCell",tagName:"TD",classList:["i-ui-cell"]});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("ContainerHeaderCell",["IUI-core","Container","Cell"],t):t(window.IUI)}(function(t){var e=t.uiContainers.Container.extend({name:"ContainerHeaderCell",tagName:"TH",classList:t.uiWidgets.Cell.prototype.classList.concat(["i-ui-header-cell"]),makeUI:function(){t.uiContainers.Container.prototype.makeUI.apply(this,arguments),this.$element.data("field",this.options.field)}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("ListView",["IUI-core","Widget"],t):t(window.IUI)}(function(t){var e=t.Widget.extend({name:"ListView",classList:t.Widget.prototype.classList.concat(["i-ui-listview"]),ignoredAttributes:["template"],onDataFetch:function(e){var i=e.data.length,n=this.options,o=this.container;items=[],requestAnimationFrame(function(){for(var s=0;s<i;++s){var a=t.makeUI(n.template,e.data[s]);o.append(a.$element),items.push(a)}}),this.items=items},onDataChange:function(e){if("add"===e.type){var i=t.makeUI(this.options.template,e.item);void 0===e.index?(this.container.append(i.$element),this.items.push(i)):(this.container.children().eq(e.index).after(i.$element),this.items.splice(e.index,0,i))}else"remove"===e.type?this.container.children().eq(e.index).remove():(this._cleanUp(),this.onDataFetch(e))},onTemplateAttach:function(e){t.Widget.prototype.onTemplateAttach.apply(this,arguments),this.container=this.containerSelector?$(e).find(this.containerSelector):$(e)},_processOptions:function(e){this.options.template||(this.options.template=this.element&&this.element.innerHTML,this.options.template='<container class="'+this.options.listclass+'">'+this.options.template+"</container>"),t.Widget.prototype._processOptions.apply(this,arguments)},_cleanUp:function(){this.container.children().detach()},options:{text:"",listclass:"i-ui-list-item"},_handlevalueChange:function(t){this.value(t)}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("PageListView",["IUI-core","ListView"],t):t(window.IUI)}(function(t){var e=t.uiWidgets.ListView.extend({name:"PageListView",classList:t.Widget.prototype.classList.concat(["i-ui-page-listview"]),template:'<div class="i-ui-page-container"></div>',containerSelector:".i-ui-page-container",initialize:function(e){var i=$();$(e.element).append(i),e.container=i,t.uiWidgets.ListView.prototype.initialize.apply(this,arguments),this.$element.append('<i class="fa fa-caret-right i-ui-icon scroll-right"></i>'),this.$element.prepend('<i class="fa fa-caret-left i-ui-icon scroll-left"></i>'),this._attachEvents()},options:{text:"",listclass:"i-ui-page-list-item"},_handlevalueChange:function(t){this.value(t)},_scrollRight:function(){for(var t=this.container.scrollLeft(),e=0,i=this.container.children().eq(0);e<t;)e+=i.outerWidth(!0),i=i.next();this.container.scrollLeft(e+i.outerWidth(!0))},_scrollLeft:function(){
for(var t=this.container.scrollLeft(),e=this.container.width(),i=0,n=this.container.children().eq(0);i<t+e;)i+=n.outerWidth(!0),n=n.next();if(n.length){var o=t+e-i+n.prev().outerWidth();this.container.scrollLeft(t-o)}else this.container.scrollLeft(t-this.container.children().eq(this.container.children().length-1).outerWidth(!0))},_attachEvents:function(){var t=this;this.$element.find(".scroll-right").on("click",function(){t._scrollRight()}),this.$element.find(".scroll-left").on("click",function(){t._scrollLeft()})}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("Switch",["IUI-core","Widget"],t):t(window.IUI)}(function(t){var e=t.Widget.extend({name:"Switch",template:'<div class="i-ui-switch-button"></div>',classList:t.Widget.prototype.classList.concat(["i-ui-switch"]),events:t.Widget.prototype.events.concat(["click","toggle"]),options:{value:!1},initialize:function(){t.Widget.prototype.initialize.apply(this,arguments),this.button=this.$element.find(".i-ui-switch-button"),this._attachEvents(),this.value(this.options.value)},_handleClick:function(t){this.$element.hasClass("i-ui-switch-active")?(this.options.value=!1,this.$element.removeClass("i-ui-switch-active")):(this.options.value=!0,this.$element.addClass("i-ui-switch-active"))},_attachEvents:function(){this.$element.on("click",".i-ui-switch-button",this._handleClick.bind(this))},_handlevalueChanle:function(t){return this.value(t)},value:function(t){if(void 0===t)return this.$element.hasClass("i-ui-switch-active");this.$element.toggleClass("i-ui-switch-active",t),this.options.value=t}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("Slider",["IUI-core","Widget"],t):t(window.IUI)}(function(t){var e=t.Widget.extend({name:"Slider",template:'<div class="i-ui-slider-bar"></div><div class="i-ui-slider-button"></div>',classList:t.Widget.prototype.classList.concat(["i-ui-slider"]),events:t.Widget.prototype.events.concat(["change"]),options:{min:0,max:255,value:0,step:1},load:function(t){t.min&&(t.min=Number(t.min)),t.max&&(t.max=Number(t.max)),t.step&&(t.step=Number(t.step))},initialize:function(){t.Widget.prototype.initialize.apply(this,arguments),this.button=this.$element.find(".i-ui-slider-button"),this.sliderY=0,this._attachEvents()},_handleMouseDown:function(t){this.buttonWidth=this.button.outerWidth(),this.sliderWidth=this.$element.width(),this.elementMinX=this.element.offsetLeft,this.$element.addClass("i-ui-active"),this.elementMaxX=this.elementMinX+this.element.offsetWidth,this._sliding||(this._sliding=!0,$("body").on("mousemove.slider",this._handleMouseMove.bind(this)),$("body").on("mouseup.slider",this._handleMouseUp.bind(this)))},_handleMouseMove:function(t){var e=this;if(!this._mouseExceedCondition){var i=this.sliderWidth-this.buttonWidth,n=(this.sliderWidth,t.originalEvent.movementX),o=this.options.max-this.options.min;this.sliderWidth;this.sliderY=this.sliderY+n;var s=Math.floor((this.sliderY-this.buttonWidth/2)/i*o);s<this.options.min?s=this.options.min:s>this.options.max&&(s=this.options.max),this.options.value=s,console.log(this.options.value),this.sliderY>this.sliderWidth-Math.floor(this.buttonWidth/2)&&(this.sliderY=this.sliderWidth-this.buttonWidth/2,this.$element.one("mouseover.slider",".i-ui-slider-button",function(){e._mouseExceedCondition=!1}),this._mouseExceedCondition=!0),this.sliderY<Math.floor(this.buttonWidth/2)&&(this.sliderY=this.buttonWidth/2,this._mouseExceedCondition=!0,this.$element.one("mouseover.slider",".i-ui-slider-button",function(){e._mouseExceedCondition=!1})),$(this.button).css("left",this.sliderY)}},_handleMouseUp:function(t){this._sliding&&(this._sliding=!1,$("body").off("mousemove.slider"),$("body").off("mouseup.slider"),this.$element.removeClass("i-ui-active"))},_attachEvents:function(){this.$element.on("mousedown",".i-ui-slider-button",this._handleMouseDown.bind(this)),this.$element.on("mouseup.slider",".i-ui-slider-button",this._handleMouseUp.bind(this))},value:function(t){if(void 0===t)return this.$element.hasClass("i-ui-slider-active");this.$element.toggleClass("i-ui-slider-active",t)}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("ToggleButton",["IUI-core","Button"],t):t(window.IUI)}(function(t){var e=t.uiWidgets.Button.extend({name:"ToggleButton",classList:t.Widget.prototype.classList.concat(["i-ui-button","i-ui-togglebutton"]),events:t.Widget.prototype.events.concat(["click","toggle"]),options:{text:"ToggleButton"},toggle:function(t){this.$element.toggleClass("i-ui-active",t),this.options.value=this.$element.hasClass("i-ui-active"),this.trigger("toggle",{value:this.value()})},_handlevalueChange:function(t){this.value(t)},_attachEvents:function(){var e=this,i=t.behaviors.delegateDOMEvent.bind(this);this.$element.on("click",function(t){e.toggle(),i(t)})},value:function(t){if(void 0===t)return this.$element.hasClass("i-ui-active");t=JSON.parse(t),this.$element.toggleClass("i-ui-active",t)}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("SubmitButton",["IUI-core","Button"],t):t(window.IUI)}(function(t){var e=t.uiWidgets.Button.extend({name:"SubmitButton",template:'<span class="i-ui-noselect"></span><button style="display:none;"></button>',options:{text:"Submit"},_attachEvents:function(){var e=this,i=t.behaviors.delegateDOMEvent.bind(this);this.$element.on("click",function(t){i(t),t.stopPropagation(),$(e.element.children[1]).trigger(t)})},value:function(t){return this.options.text}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("FormLabel",["IUI-core","Widget"],t):t(window.IUI)}(function(t){var e=t.Widget.extend({name:"FormLabel",classList:t.Widget.prototype.classList.concat(["i-ui-formlabel"]),load:function(e){e.value=e.element&&e.element.innerHTML||e.text,t.Widget.prototype.load.apply(this,arguments)},_processOptions:function(e){e.innerText=this.options.value,delete this.options.text,t.Widget.prototype._processOptions.apply(this,arguments)},options:{text:""},value:function(t){return void 0!==t?this.element.innerHTML=t:this.element.innerHTML},_handlevalueChange:function(t){this.value(t)}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("Radio",["IUI-core","Widget"],t):t(window.IUI)}(function(t){var e=t.Widget.extend({name:"Radio",template:'<input type="radio" class="i-ui-radio-button"></input>',classList:t.Widget.prototype.classList.concat(["i-ui-radio"]),options:{value:"radio",checked:!1},load:function(e){t.Widget.prototype.load.apply(this,arguments),e.text=e.text||e.element&&e.element.innerHTML},initialize:function(){this.options.checked=!0===this.options.checked||"true"===this.options.checked||"checked"===this.options.checked,t.Widget.prototype.initialize.apply(this,arguments)},_handlevalueChange:function(t){this.input.value=t},onTemplateAttach:function(t){this.input=t.children[0]},_processOptions:function(e){t.Widget.prototype._processOptions.apply(this,arguments),this.labelcontainer=t.makeUI('<div><FormLabel text="'+this.options.text+'"></FormLabel></div>',this.options.model),$(e).append(this.labelcontainer.widgets[0].$element),this.input.value=this.options.value,this.options.group&&(this.input.name=this.options.group),this.input.checked=this.options.checked},checked:function(t){return void 0!==t?wrapper.children[0].checked=t:wrapper.children[0].checked},value:function(t){return void 0!==t?this.input.value=t:this.input.value}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("NumericInputBox",["IUI-core","InputBox"],t):t(window.IUI)}(function(t){var e=t.uiWidgets.InputBox,i=e.extend({name:"NumericInputBox",template:'<input class="i-ui-input"></input><div class="i-ui-spinner-container"><div class="i-ui-spinner i-ui-spinner-up"><i class="i-ui-widget-icon fa fa-caret-up" aria-hidden="true"></i></div><div class="i-ui-spinner i-ui-spinner-down"><i class="i-ui-widget-icon fa fa-caret-down" aria-hidden="true"></i></div></div>',classList:t.Widget.prototype.classList.concat(["i-ui-numericinputbox"]),validationList:["numeric"],initialize:function(){this._handleSpinStart=this._handleSpinStart.bind(this),this._handleSpinEnd=this._handleSpinEnd.bind(this),e.prototype.initialize.apply(this,arguments)},events:e.prototype.events.concat(["spin"]),options:{step:1,value:0,decimal:!1,precision:2},_handleSpinStart:function(t){var e=this,i=Number(this.options.step);$(t.currentTarget).hasClass("i-ui-spinner-down")&&(i=-i),$(this.element).addClass("i-ui-active"),this._interval&&(clearInterval(this._interval),delete this._interval),this._interval=setInterval(function(){var t;t=e._formatNumber(Number(e.input.val())+i),e.input.val(t),e.trigger("spin",{value:t})},50)},_formatNumber:function(t){return t=this.options.decimal?t.toFixed(this.options.precision):parseInt(t)},_handleSpinEnd:function(t){this._interval&&(clearInterval(this._interval),this.trigger("change",{value:Number(this.input.val())}),this.options.value=this.input.val(),this.$element.removeClass("i-ui-active"),delete this._interval)},_attachEvents:function(){e.prototype._attachEvents.apply(this,arguments),this.$element.on("mousedown",".i-ui-spinner",this._handleSpinStart),this.$element.on("mouseup mouseleave",".i-ui-spinner",this._handleSpinEnd)},value:function(t){return void 0!==t&&(t=this._formatNumber(Number(t))),Number(e.prototype.value.call(this,t))}});t.WidgetBuilder.plugin(i)}),function(t){"function"==typeof define&&define.amd?define("ComboBox",["IUI-core","InputBox"],t):t(window.IUI)}(function(t){var e=t.uiWidgets.InputBox,i=e.extend({name:"Combobox",template:'<input tabindex="-1" class="i-ui-input"></input><div class="i-ui-dropbutton-container"><div class="i-ui-dropbutton"><i class="i-ui-widget-icon fa fa-caret-down" aria-hidden="true"></i></div></div>',classList:t.Widget.prototype.classList.concat(["i-ui-combobox"]),initialize:function(t){var i="";t.datamart&&($(t.element).removeAttr("datamart"),i=i+' datamart="'+t.datamart+'" ',delete t.datamart),t.data&&($(t.element).removeAttr("data"),i=i+' data="'+t.data+'" ',delete t.data),this.tagTemplate='<listview class="i-ui-dropdown-list" '+i+'><division class="i-ui-option-item" ii-id="::'+(t.idfield||this.options.idfield)+'::">::'+(t.textfield||this.options.textfield)+"::</division></listview>",e.prototype.initialize.apply(this,arguments)},_createPopup:function(){var e=this.$element;this.popup=t.createOverlay({anchor:this.element,contents:this.tagTemplate,model:this.options.model,button:this.element.querySelector(".i-ui-dropbutton-container"),maxHeight:"15em",height:"15em",pointeropening:"center",opening:function(){e.addClass("i-ui-active")},close:function(){e.removeClass("i-ui-active")}})},onRender:function(){this._createPopup()},options:{idfield:"id",textfield:"text"},_getDataMart:function(){return this.popup.contents.widgets[0].dataMart},_attachEvents:function(){var t=this;e.prototype._attachEvents.apply(this,arguments),this.popup._initPromise.then(function(){$(t.popup.element).on("click",".i-ui-list-item",function(e){var i=$(e.currentTarget).index(),n=t._getDataMart();n&&(t.value(n.data[i][t.options.textfield]),t.trigger("change",{value:n.data[i]}))})})}});t.WidgetBuilder.plugin(i)}),function(t){"function"==typeof define&&define.amd?define("DropDown",["IUI-core","ComboBox"],t):t(window.IUI)}(function(t){var e=t.uiWidgets.Combobox,i=e.extend({name:"DropDown",classList:t.Widget.prototype.classList.concat(["i-ui-dropdown"]),template:'<input tabindex="-1" class="i-ui-input" style="display:none;"><div tabindex="-1" class="i-ui-input i-ui-display"></div><div class="i-ui-dropbutton-container"><div class="i-ui-dropbutton"><i class="i-ui-widget-icon fa fa-caret-down" aria-hidden="true"></i></div></div>',value:function(t){return void 0!==t?(this.options.value=t,this.element.querySelector(".i-ui-display").innerText=t,this.input.val(t)):this.input.val()}});t.WidgetBuilder.plugin(i)}),function(t){"function"==typeof define&&define.amd?define("Form",["IUI-core","Container"],t):t(window.IUI)}(function(t){var e=t.uiContainers.Container.extend({name:"IForm",classList:t.uiContainers.Container.prototype.classList.concat(["i-ui-form"]),_beforeRender:function(){this._widgetAttributeValueMap={}},_onCreateWidget:function(t){t.options.formattribute&&"function"==typeof t.value&&(this._widgetAttributeValueMap[t.options.formattribute]=t.value.bind(t))},getJSON:function(){var t={};for(var e in this._widgetAttributeValueMap)t[e]=this._widgetAttributeValueMap[e]();return t},setJSON:function(t){for(var e in t)this._widgetAttributeValueMap[e]&&this._widgetAttributeValueMap[e](t[e])},value:function(t){return t?this.setJSON(t):this.getJSON()}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("RadioGroup",["IUI-core","Container"],t):t(window.IUI)}(function(t){var e=t.uiContainers.Container.extend({name:"RadioGroup",classList:t.uiContainers.Container.prototype.classList.concat(["i-ui-radiogroup"]),options:{group:"group",orientation:"vertical"},events:["change"],_handlevalueChange:function(t){this.value()!==t&&this.value(t)},_beforeRender:function(){for(var t=this.element.querySelectorAll("Radio"),e=0;e<t.length;e++){t[e].setAttribute("group",this.options.group)}this.group=this.options.group,"vertical"===this.options.orientation?this.classList.push("i-ui-vertical-radiogroup"):this.classList.push("i-ui-horizontal-radiogroup")},_afterRender:function(){this.options.value&&this.value(this.options.value),this._attachEvents()},_onCreate:function(t){t.options.formattribute&&"function"==typeof t.value&&(this._widgetAttributeValueMap[t.options.formattribute]=t.value.bind(t))},value:function(t){var e;if(void 0===t)return e=this.element.querySelector(":checked"),e?e.value:null;(e=this.element.querySelector('input[value="'+t+'"]'))&&(e.checked=!0,this.options.value=t)},_attachEvents:function(){var e=this;this.$element.on("change","input",function(i){e.options.value=i.target.value,t.behaviors.delegateDOMEvent.call(e,i)})}});t.WidgetBuilder.plugin(e)}),function(t){"function"==typeof define&&define.amd?define("IUI",["IUI-core","Behaviors","WidgetBuilder","Validator","ObservableModel","Utils","OptionModel","ContainerModel","DataBoundContainer","Container","VerticalScroller","QuickSort","Row","Popover","ContextMenu","Layout","View","Viewport","ViewModel","Sidebar","Grid","Navbar","Footer","Widget","ContainerUI","Overlay","InputBox","Button","Cell","Division","HeaderCell","ContainerCell","ContainerHeaderCell","ListView","PageListView","Switch","Slider","ToggleButton","SubmitButton","FormLabel","Radio","NumericInputBox","ComboBox","DropDown","Exhibit","Form","RadioGroup"],t):t(window.IUI)}(function(t){t.Validator.addRule("numeric",function(t){return!isNaN(Number(t))}),t.Validator.addRule("email",function(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}),t.Validator.addRule("noScript",function(t){return!/(<|>)/g.test(t)}),t.makeUI=function(i,n){var o;!i||i.constructor.toString()!=={}.constructor.toString()&&"ObservableModel"!==i.classType||(n=i,i=null),n&&"ObservableModel"!==n.classType&&(n=new t.ContainerModel(n)),i||(i="body");var s=$(i)[0],a=Array.prototype.slice.call(s.attributes).reduce(e,{element:s,model:n});return void 0!==t.WidgetBuilder.containerList[s.tagName]?o=t.WidgetBuilder.containerList[s.tagName](s,null,a.model):(o=new t.ContainerUI(a),o.makeUI()),o};var e=function(t,e){return t[e.name]=e.value,t};return t.makeUIAsync=function(i,n){!i||i.constructor.toString()!=={}.constructor.toString()&&"ObservableModel"!==i.classType||(n=i,i=null),n&&"ObservableModel"!==n.classType&&(n=new t.ContainerModel(n)),i||(i="body");var o=$(i)[0],s=Array.prototype.slice.call(o.attributes).reduce(e,{element:o,model:n,async:!0}),a=new t.ContainerUI(s);return a.makeUI(),a},t});